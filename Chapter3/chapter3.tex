%!TEX root = ../thesis.tex
%*******************************************************************************
%****************************** Third Chapter **********************************
%*******************************************************************************
\chapter{Método}

% **************************** Define Graphics Path **************************
\ifpdf
    \graphicspath{{Chapter3/Figs/Raster/}{Chapter3/Figs/PDF/}{Chapter3/Figs/}}
\else
    \graphicspath{{Chapter3/Figs/Vector/}{Chapter3/Figs/}}
\fi

\section{Estudio de tecnologías}

\subsection{Proceso de aprendizaje}

Para definir el proceso de aprendizaje llevado a cabo pienso que es necesario hacer una división en
lo que claramente define mi conocimiento en el antes de comenzar este informe y lo que es el
durante y el después. Durante el desarrollo del informe y la aplicación se pueden separar tres
grandes conceptos: Node.js, Blockchain y Ethereum.

Por un lado, Node.js es una tecnología con la que trabajo a diario hace más de dos años y por este
motivo no será el centro de atención a lo largo del informe. Si bien los contratos que se escriban, 
testeen y deployen lo harán en principio sobre una plataforma escrita en Node.js, se le dará suma
importancia a lo incurrido en los otros dos conceptos.

Por otro lado, Blockchain y Ethereum son dos conceptos completamente ajenos a mi experiencia. Si 
bien se oyen a diario cada vez más seguido, jamás antes había siquiera leído un informe o un libro
sobre ninguno de estos dos conceptos. Este hecho de escucharlos y leerlos todos los días en 
noticias de tecnología me hizo pensar en profundizar en ellos para conocer su funcionamiento 
interno, sus posibles aplicaciones y lograr junto con este informe, crear y deployar contratos 
inteligentes en las redes de pruebas, teniendo pleno conocimiento de lo que está sucediendo en el 
detrás de escena y habiendo intervenido todo lo que en mi responsabilidad quedaba hacerlo.

Dado que a lo largo de la facultad no se ha visto contenido alguno relacionado a Blockchain y 
Ethereum, todo lo aprendido en este proceso fue adquirido de libros, artículos de blogs 
técnicos, los propios papers oficiales de Bitcoin y Ethereum, videos de conferencias, videos 
académicos, informes y otras fuentes de menor importancia.

El proceso de aprendizaje comienza mediados del mes de Noviembre de 2018 donde se comienza a 
recolectar todos los recursos "en crudo" considerados importantes para la finalidad del informe.
Es decir, libros, artículos, informes, papers, cursos, conferencias, etc. Los recursos aquí 
buscados fueron, en números, un 85\% sobre Blockchain y Ethereum y el 15\% restante sobre como
comunicar la plataforma de Node.js con los contratos inteligentes y los nodos de las redes de 
prueba de Ethereum.

Ya comenzado el mes de Diciembre, se procedió a filtrar todos los recursos en crudo para dejar
lo considerado más importante y que me iba a dar más conocimiento de los temas para llevar adelante
el informe y el proyecto.

Rondando mediados de Diciembre y luego de haber incurrido en algunos libros, informes y videos 
académicos, se está en condiciones de comenzar a escribir una aplicación combinando Node.js, 
Ethereum y Blockchain. A partir de este momento el progreso realizado se verá reflejado luego 
en la sección "Estado alcanzado" más adelante.


\subsection{Estado alcanzado}
@TODO casi al finalizar el informe

\section{Proceso de desarrollo}

\subsection{Puesta en marcha del entorno de trabajo}

Para llevar adelante tanto el presente informe como la aplicación, se utilizó una única estación
de trabajo descripta a continuación:

\begin{itemize}
\item Modelo: Ultrabook Dell Latitude E7270
\item Memoria RAM: 8GB DDR4 2133mhz.
\item CPU: Intel Core i7 6600U @ 2.60GHz.
\item Almacenamiento: Disco SSD LITEON L8H-256V2G-11 M.2 2280 256GB.
\item Sistema Operativo: Debian GNU/Linux 9.4 (stretch) 64 bits.
\end{itemize}

Enumeraré a continuación lo que se debió instalar en dicha estación de trabajo. No daré
practicamente detalles debido a que de muchos puntos se ha hablado en otras secciones:

\begin{itemize}
\item LaTeX https://packages.debian.org/stretch/texlive-full
\item Texmaker https://packages.debian.org/jessie/tex/texmaker
\item nvm (Node Version Manager) https://github.com/creationix/nvm
\item Node.js v10 LTS https://nodejs.org/ (posteriormente luego de hacer pruebas, se instalará definitivamente la versión v8 LTS para el proyecto
\item MetaMask https://metamask.io/
\item Módulos externos de Node.js:
	\begin{itemize}
		\item Mocha https://github.com/mochajs/mocha
		\item Ganache CLI https://github.com/trufflesuite/ganache-cli
		\item Truffle HD Wallet Provider https://github.com/trufflesuite/truffle-hdwallet-provider
		\item Web3 https://github.com/ethereum/web3.js/
		\item Solc (compilador de código Solidity) https://github.com/ethereum/solc-js
	\end{itemize}
\item Módulos externos de y para trabajar con React
	\begin{itemize}
		\item React
		\item React DOM
		\item React Router DOM
		\item @babel/core (todos los paquetes instalados de @babel son utilizados para transpilar código escrito en nuevos estándares para que sean compatibles con navegadores más antiguos)
		\item @babel/plugin-proposal-class-properties
		\item @babel/preset-env
		\item @babel/preset-react
		\item @babel/polyfill
		\item Babel Loader
		\item CSS Loader
		\item Webpack
		\item Webpack CLI
		\item Webpack Dev Server
		\item Style Loader
		\item HTML Webpack Plugin
	\end{itemize} 
\end{itemize}

\subsection{Product Backlog}
En esta sección se encontrarán todas las tareas llevadas a cabo desde el mismísimo principio del
presente informe cuando siquiera sabía lo que era Ethereum. Quiero destacar que en principio 
realicé una división de las tareas en tres categorías que me ayudan a separar y organizar un poco
mejor lo que este trabajo conlleva. 

Por un lado estarán las tareas identificadas como \textbf{\textit{[BIBLIOGRAFÍA]}}, las cuales 
representan todas aquellas tareas que se identifiquen con la búsqueda de material, investigación,
lectura y no conlleven un fin estrictamente práctico más que el estudio del material recolectado y
elegido. Por otro lado están las tareas de \textbf{\textit{[INFORME]}}, las cuales representan 
todas las tareas directamente relacionadas con el presente informe, ya sea su creación, escritura, 
revisiones, mantenimiento, etc. Y por último estarán las tareas presentadas como 
\textbf{\textit{[APP]}}, que serán las que estén ligadas al desarrollo de la aplicación que nace
de toda la investigación previa de Ethereum y su ecosistema.

Habiendo aclarado lo anterior, presento el backlog a continuación:

\begin{itemize}
\item \textbf{[BIBLIOGRAFÍA]} Investigar y guardar material en crudo sin filtrar sobre Blockchain, Ethereum y la pposible participación de Node.js en su ecosistema (1)
\item \textbf{[BIBLIOGRAFÍA]} Evaluar en detalle el material recolectado y filtrar únicamente lo
que se relacione directamente con los conceptos core que se van a llevar adelante y tengan el
debido respaldo profesional de la comunidad: Blockchain y Ethereum (2)
\item \textbf{[BIBLIOGRAFÍA]} Leer comprensivamente el paper de Bitcoin 
(https://www.bitcoin.com/bitcoin.pdf) (3)
\item \textbf{[BIBLIOGRAFÍA]} Leer comprensivamente el paper de Ethereum 
(https://github.com/ethereum/wiki/wiki/White-Paper) (4)
\item \textbf{[BIBLIOGRAFÍA]} Estudiar video del fundador de Ethereum en conferencia 
https://www.youtube.com/watch?v=66SaEDzlmP4 (5)
\item \textbf{[BIBLIOGRAFÍA]} Leer el siguiente artículo 
https://medium.com/@mattcondon/getting-up-to-speed-on-ethereum-63ed28821bbe (6)
\item \textbf{[BIBLIOGRAFÍA]} Leer la documentación de Solidity https://solidity.readthedocs.io/en/develop/ (7)
\item \textbf{[BIBLIOGRAFÍA]} Leer capítulos [1, 3] y [5, 7] del libro "Ethereum Smart Contract Development" https://www.amazon.com/gp/product/B077YSHRWW (8)
\item \textbf{[BIBLIOGRAFÍA]} Revisar recursos expuestos en el siguiente articulo 
https://medium.com/@robbertvermeulen/learn-solidity-the-ethereum-smart-contract-programming-language-7f106fc26d6 (9)
\item \textbf{[BIBLIOGRAFÍA]} Leer el siguiente artículo para continuar comprendiendo cómo y dónde
se guardan los datos en Ethereum https://hackernoon.com/getting-deep-into-ethereum-how-data-is-stored-in-ethereum-e3f669d96033 (10)
\item \textbf{[BIBLIOGRAFÍA]} Leer libro "Mastering Ethereum" https://github.com/ethereumbook/ethereumbook (11)

\item \textbf{[INFORME]} Instalar LaTeX y Texmaker (12)
\item \textbf{[INFORME]} Clonar y configurar plantilla para el informe (https://github.com/kks32/phd-thesis-template) (13)
\item \textbf{[INFORME]} Crear índice tentativo que además me servirá personalmente como guía (14)
\item \textbf{[INFORME]} Crear repositorio en Github para el informe en LaTeX (https://github.com/Lzok/ethereum-report) (15)
\item \textbf{[INFORME]} Trabajar sobre el capítulo 1 (16)
\item \textbf{[INFORME]} Trabajar sobre el capítulo 2 (17)
\item \textbf{[INFORME]} Trabajar sobre el capítulo 3 (18)
\item \textbf{[INFORME]} Trabajar sobre el capítulo 4 (19)

\item \textbf{[APP]} Crear repositorio en Github para la app (20)
\item \textbf{[APP]} Instalar nvm y Node.js v10 LTS (21)
\item \textbf{[APP]} Set up del editor de código, VS Code. (22)
\item \textbf{[APP]} Instalar todos los módulos necesarios para el proyecto (23)
\item \textbf{[APP]} Evaluar módulos para test runner: Mocha o Jest? (24)
\item \textbf{[APP]} Instalar y configurar test runner elegido del punto anterior (25)
\item \textbf{[APP]} Escribir un contrato sencillo para probar Remix remix.ethereum.org (26)
\item \textbf{[APP]} Hacer una cuenta en Infura (https://infura.io/) y obtener la access key (27)
\item \textbf{[APP]} Hacer pruebas para evaluar la versión definitiva de Node para usar en el
proyecto debido a que el entorno de Ethereum es muy volátil en cuanto a las versiones del
ecosistema. Posteriormente, instalar la versión de Node más estable para el proyecto. (28)
\item \textbf{[APP]} Hacer el contrato Project en el IDE Remix para investigar qué versión del
compilador Solidity es compatible con el código escrito y cerciorarse de que compile sin problemas.
(29)
\item \textbf{[APP]} Una vez que el contrato Project esté funcionando, se debe hacer el contrato
ProjectBuilder siguiendo el mismo procedimiento (30)
\item \textbf{[APP]} Pasar los contratos escritos a un directorio dentro del proyecto y escribir
un script Node para que el módulo solc pueda compilarlos localmente. (31)
\item \textbf{[APP]} Escribir un script Node para deployar los contratos en la red privada de 
pruebas Rinkeby (33)
\item \textbf{[APP]} Escribir el código para consumir los métodos del contrato ProjectBuilder (34)
\item \textbf{[APP]} Escribir el código para conectarse al contrato a través de Web3 (35)
\item \textbf{[APP]} Hacer el set up del entorno de React, React Router, Webpack y Babel en el
proyecto (36)
\item \textbf{[APP]} Hacer componente para la pagina de Index en React (HTML + JS + CSS) (37)
\item \textbf{[APP]} Hacer los componentes Header y Footer (HTML + JS + CSS) (38)
\item \textbf{[APP]} Hacer el formulario para crear un nuevo proyecto en React con la logica
necesaria para enviar la informacion al smart contract deployado (HTMl + JS + CSS) (39)
\item \textbf{[APP]} Hacer el componente que muestre el detalle de un proyecto (HTML + JS + CSS) (40)
\item \textbf{[APP]} Hacer el componente para que un usuario pueda ser backer de un proyecto junto
con la logica necesaria (HTMl + JS + CSS) (41)
\item \textbf{[APP]} Hacer el componente para que el owner del proyecto cree un nuevo “payment”
junto con la logica necesaria (HTML + JS + CSS) (42)
\item \textbf{[APP]} Hacer componente para mostrar un listado de los payments (index) y su estado
(pendiente, rechazado, finalizado) (HTML + JS + CSS) (43)
\item \textbf{[APP]} Hacer componente para que los backers aprueben o desaprueben los pagos (HTML +
 JS + CSS) (44)

\end{itemize}

\subsection{Semana 0 o "kick off"}
Véase que nombro semana y no sprint como comúnmente se nombra a los períodos de trabajo en los 
cuales al final de cada uno se entrega una pieza funcional del proyecto en las metodologías ágiles
(o esa es la intención), el motivo de esta nomenclatura elegida es que al trabajar individualmente 
sin un equipo de personas y cargando con responsabilidades de la vida diaria y profesional no puedo
garantizar atenerme estrictamente a los planes, exigencias y entregas que plantean los sprints de 
trabajo en las metodologías ágiles. Por estos motivos, elegí ver y plantear los progresos que se 
lograron semanalmente durante la realización del proyecto.

En la semana 0 traté de dar algo de forma a mi "framework" de trabajo para estudiar
y realizar el presente informe y la app con la que culminaría lo que sería una primer etapa
concluída del aprendizaje de las tecnologías mencionadas. Algunas de las formas de trabajo 
establecidas fueron:

\begin{itemize}
\item Dedicar un promedio de al menos 2 (dos) horas diarias al proyecto en días de semana y 3
(tres) horas los fines de semana.
\item Al finalizar cada semana se registrarán los avances y nuevos conocimientos adquiridos.
\item El product backlog no estará dividido bajo ninguna estructura estricta ni cronológica.
\item A lo largo de las primeras cuatro semanas se priorizarán las actividades con el rótulo de 
\textbf{BIBLIOGRAFÍA} e \textbf{INFORME}.
\item A partir de la quinta semana idealmente, ya se comenzarán con las actividades con el rótulo
de \textbf{APP} y se continuará de aquí en más trabajando en paralelo con actividades de los tres
rótulos hasta concluir el proyecto.
\item El método de trabajo en el repositorio del informe sería crear una branch nueva por cada
capítulo, utilizando la branch \textit{master} como base.
\item El método de trabajo en el repositorio de la app sería crear una branch por cada feature
que se realice, utilizando la branch \textit{dev} como base de éstas y la branch \textit{master}
como la que contenga versiones estables y mínimente funcionales de la app.
\end{itemize}

\subsection{Semana 1}
La primer semana la dediqué enteramente a filtrar todo el grueso de links y bibliografía para
seleccionar a base de cuáles trabajar a lo largo del proyecto. Cabe destacar que esto no será 
definitivo ya que a lo largo del proyecto será muy común que surjan nuevos recursos que terminarán
siendo usados para el informe. Tickets (1) y (2).

\subsection{Semana 2}
Durante la segunda semana realicé la lectura de los capítulos requeridos en el ticket (8) del 
libro "Ethereum Smart Contract Development", la lectura del artículo mencionado en el ticket (6) y
la lectura de la documentación de Solidity propuesta en el ticket (7). Además, investigué los
recursos propuestos en el ticket número (9), el cual sugirió repositorios de Github interesantes
para consultar más adelante.

\subsection{Semana 3}
En esta semana se procedió a la lectura del paper de Bitcoin (3), el paper de Ethereum (4),
 la vista del video de Vitalik en conferencia (5), la lectura del artículo mencionado en el 
 ticket (10) y de los primeros dos capítulos del libro "Mastering Ethereum" (11).
 
\subsection{Semana 4}
Se continuó con la lectura de tres capítulos del libro "Mastering Ethereum" (11), se comenzó 
con la instalación de la suite de LaTeX para escribir el informe instalando LaTeX y el editor 
de texto llamado Texmaker (12), se clonó y configuró la plantilla de LaTeX seleccionada para 
hacer el informe y se configuró para las propias necesidades (13).

Además, se hizo un índice tentativo que sirve como guía para el desarrollo del informe (14), 
se creó el repositorio en Github para el informe (15), y por último se comenzó la escritura del
capítulo 1 (una escritura a modo de borrador) (16).

\subsection{...Semana N}